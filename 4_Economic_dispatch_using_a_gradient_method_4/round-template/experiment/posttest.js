// Don't touch the below code

(function() {
    function buildQuiz() {
        // we'll need a place to store the HTML output
        const output = [];

        // for each question...
        myQuestions.forEach((currentQuestion, questionNumber) => {
            // we'll want to store the list of answer choices
            const answers = [];

            // and for each available answer...
            for (letter in currentQuestion.answers) {
                // ...add an HTML radio button
                answers.push(
                    `<label>
            <input type="radio" name="question${questionNumber}" value="${letter}">
            ${letter} :
            ${currentQuestion.answers[letter]}
          </label>`
                );
            }

            // add this question and its answers to the output
            output.push(
                `<div class="question"> ${currentQuestion.question} </div>
        <div class="answers"> ${answers.join("")} </div>`
            );
        });

        // finally combine our output list into one string of HTML and put it on the page
        quizContainer.innerHTML = output.join("");
    }

    function showResults() {
        // gather answer containers from our quiz
        const answerContainers = quizContainer.querySelectorAll(".answers");

        // keep track of user's answers
        let numCorrect = 0;

        // for each question...
        myQuestions.forEach((currentQuestion, questionNumber) => {
            // find selected answer
            const answerContainer = answerContainers[questionNumber];
            const selector = `input[name=question${questionNumber}]:checked`;
            const userAnswer = (answerContainer.querySelector(selector) || {}).value;

            // if answer is correct
            if (userAnswer === currentQuestion.correctAnswer) {
                // add to the number of correct answers
                numCorrect++;

                // color the answers green
                //answerContainers[questionNumber].style.color = "lightgreen";
            } else {
                // if answer is wrong or blank
                // color the answers red
                answerContainers[questionNumber].style.color = "red";
            }
        });

        // show number of correct answers out of total
        resultsContainer.innerHTML = `${numCorrect} out of ${myQuestions.length}`;
    }

    const quizContainer = document.getElementById("quiz");
    const resultsContainer = document.getElementById("results");
    const submitButton = document.getElementById("submit");


    // Don't touch the above code




    // Write your MCQs here --- Start --- --------------------

    const myQuestions = [{
            question: "The criteria of gradient method for ending the iteration is.",
            answers: {
                a: "<img src=\"./images/posttest_question1_option_a.png\"\/>",
                b: "<img src=\"./images/posttest_question1_option_b.png\"\/>",
                c: "<img src=\"./images/posttest_question1_option_c.png\"\/>",
                d: "<img src=\"./images/posttest_question1_option_d.png\"\/>"
            },
            correctAnswer: "b"
        },
        {
            question: "Evolutionary algorithms are preferred than gradient method. Is this",
            answers: {
                a: "True",
                b: "False"
            },
            correctAnswer: "a"
        },
        {
            question: "The reason for using the gradient method for economic dispatch problem is",
            answers: {
                a: "To handle the linear input-output characteristics of a plant",
                b: "To handle the nonlinear input-output characteristics of a plant",
                c: "To bring a power plant at steady state condition considering power losses",
                d: "To bring a power plant at steady state condition considering power demand plus losses"
            },
            correctAnswer: "b"
        },
        {
            question: "In plant consisting the fuel cost in the incremental in rupees per MWh and there are two units: IC1, IC2 (PG1=150 MW and PG2=100 MW) are power generated by both the units for total demands of 250 MW. The initial average incremental cost by general gradient method is (IC1 = 0.20PG1 + 40, IC2 = 0.25PG+30)",
            answers: {
                a: "89",
                b: "98",
                c: "62.5",
                d: "26.5"
            },
            correctAnswer: "c"
        },
        {
            question: "In gradient method, there are six power plants are used for economic dispatch problem for the given power demand. What is the size of the gradient matrix for the general gradient method?",
            answers: {
                a: "7x1",
                b: "1x6",
                c: "1x7",
                d: "6x1"
            },
            correctAnswer: "a"
        } //Dont add comma here
    ];

    // ---------------------------- End -------------------------------

    // display quiz right away
    buildQuiz();

    // on submit, show results
    submitButton.addEventListener("click", showResults);
})();