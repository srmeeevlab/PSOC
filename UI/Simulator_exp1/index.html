<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width" />
    <meta charset="UTF-8">
    <title>Experiment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

</head>

<body>


    <nav class="navbar navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><img src="images/srm-logo-white.png" alt="SRM Logo"></a>
            <span id="exp-title">Development of Voltage Vontrollers of SMIB System</span>
            <span id="navbar-settings">
                <!-- <span id="score-word">SCORE: </span><span id="score">100</span> -->
            <span id="nav-help" title="Help">
                    <div class="dropdown">
                        <button class="btn dropdown-toggle btn btn-custom-outline-brown w-100 d-block" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                          Help
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                          <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#modal1">Interface</a></li>
                          <li><a class="dropdown-item" href="#"data-bs-toggle="modal" data-bs-target="#modal2">Simulation</a></li>
                          <li><a class="dropdown-item" href="#"data-bs-toggle="modal" data-bs-target="#modal3">Theory</a></li>
                        </ul>
                      </div>
                </span>


            </span>
        </div>
        <!-- <div id="INPUT-BLOCK" class="m-3">
            <h5>INPUT</h5>
            <span> Lorem ipsum dolor, sit amet consectetur adipisicing elit. Est, in quae animi, sed harum molestias
                consequatur doloribus autem architecto, dolor perspiciatis vitae atque laudantium sint placeat
                voluptatibus at ab odit.
            </span>
        </div> -->

    </nav>
    <div id="HELP-MODAL">
        <div class="modal fade" id="modal1" aria-hidden="true" aria-labelledby="modal1Label" tabindex="-1">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modal1Label">Interface</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Show a second modal and hide this one with the button below. -->
                        <p>You are in the simulation page. To proceed to the interface page, <a href="tyr.html">Click Here</a></p>
                        <h1>Procedure</h1>
                        <h5>Your task here is to form an appropriate algorithm for understanding the experiment's workflow.</h5>
                        <h5>For a pre-built structure, navigate to “PreBuilt”, and click it. After doing so, follow steps a - e:
                        </h5>
                        <ul>
                            <li>Step a: Navigate to the “Help” button and click on it.</li>
                            <li>Step b: Navigate to “Theory” in the modal displayed, and read the text for conceptual understanding.</li>
                            <li>Step c: Navigate back to the interface.</li>
                            <li>Step d: Verify the values in each element/block by clicking the element/block individually.
                            </li>
                            <li>Step e: Now, run the simulation and verify the results.
                            </li>
                        </ul>
                        <h5>For forming the algorithm yourself, follow steps 1-10:</h5>
                        <ul>
                            <li>Step 1: Navigate to the “Help” button and click on it.
                            </li>
                            <li>Step 2: Navigate to “Theory” in the modal displayed, and read the text for conceptual understanding.
                            </li>
                            <li>Step 3: Navigate back to the interface.
                            </li>
                            <li>Step 4: Use the palette provided on the left to navigate to the drag-drop elements/blocks. </li>
                            <li>Step 5: Upon selecting the element/block, drag it to the specified area.</li>
                            <li>Step 6: Name the elements/blocks appropriately.
                            </li>
                            <li>Step 7: Fill in values for the elements/blocks chosen.</li>
                            <li>Step 8: Click on the “Run” button.</li>
                            <li>Step 9: Verify the result against manual calculations.
                            </li>

                        </ul>
                        <h1>Blocks</h1>
                        <h4>Variables</h4>
                        <div>
                            <h5>Boolean</h5>
                            <p>A boolean variable is defined. It can have the values set to be true or false</p>
                        </div>
                        <div>
                            <h5>Constant</h5>
                            <p>A constant variable is defined. Any real number can be assigned to the variable defined.</p>
                        </div>
                        <div>
                            <h5>Matrix</h5>
                            <p>A matrix with assigned variable of given number of rows and columns is created. Values can be assigned in the box which will be opened after clicking the OK button.</p>
                        </div>
                        <div>
                            <h5>Identity Matrix</h5>
                            <p>A matrix with assigned variable of given number of rows is created.Values can be assigned in the box which will be opened after clicking the OK button.</p>
                        </div>
                        <div>
                            <h5>Unity Matrix</h5>
                            <p>A unity matrix with assigned variable of given number of rows and columns is created. Values can be assigned in the box which will be opened after clicking the OK button.</p>
                        </div>
                        <div>
                            <h5>Zero Matrix</h5>
                            <p>A Zero matrix with assigned variable of given number of rows and columns is created. Values can be assigned in the box which will be opened after clicking the OK button.</p>
                        </div>
                        <div>
                            <h5>Vector</h5>
                            <p>A vector with assigned variable of given number of elements is created. Values can be assigned in the box which will be opened after clicking the OK button.</p>
                        </div>
                        <h4>Conditionals and Loops</h4>
                        <div>
                            <h5>If</h5>
                            <p>An if block is defined with the user defined condition. If the condition is true,then the if block will run.</p>
                        </div>
                        <div>
                            <h5>Else if</h5>
                            <p>An else if block is defined with the user defined condition. If the else if condition is true,then the if block will run. If block is mandatory before an else if block.</p>
                        </div>
                        <div>
                            <h5>Else</h5>
                            <p>An else if block is define.If the if condition is false,then the else block will run. If block is mandatory before an else block.</p>
                        </div>
                        <div>
                            <h5>For</h5>
                            <p>A for loop block is created with specified initiliazed value,condition and increment/decrement value. Default value for initialization is 0 and increment/decrement is 1. </p>
                        </div>
                        <div>
                            <h5>While</h5>
                            <p>A while block is defined with the user defined condition. The while block will run as long as the condition is satisfied.</p>
                        </div>
                        <div>
                            <h5>Break</h5>
                            <p>Break Statement breaks out of a conditional or a loop</p>
                        </div>
                        <div>
                            <h5>Continue</h5>
                            <p>A continue statement ends the current iteration of a loop</p>
                        </div>
                        <h4>Math</h4>
                        <div>
                            <h5>Evaluate</h5>
                            <p>Evaluate block evaluates the specified variable with the specified math operations and expressions.</p>
                        </div>
                        <div>
                            <h5>Matrix Evaluate</h5>
                            <p>This block is used to evaluate to matrix elements with the specified operations.</p>
                        </div>
                        <div>
                            <h5>Transpose</h5>
                            <p>In transpose block, the output variable name is assigned with the transpose values of the given matrix block.</p>
                        </div>
                        <div>
                            <h5>Absolute</h5>
                            <p>In Absolute block, the output variable name is assigned with the absolute values of the given variables/operations.</p>
                        </div>
                        <h4>Matrix Operations</h4>
                        <div>
                            <h5>Row combine</h5>
                            <p>In row combine block, if two matrices with same column dimension and different/same row dimension are given, the output block gets the combined row values. For example, if matrix A has dimensions 2*2 and matrix B has dimension
                                3*2, the resultant matrix has dimensions 5*2</p>
                        </div>
                        <div>
                            <h5>Column combine</h5>
                            <p>In column combine block, if two matrices with same row dimension and different/same column dimension are given, the output block gets the combined row values. For example, if matrix A has dimensions 2*2 and matrix B has dimension
                                2*3, the resultant matrix has dimensions 2*5</p>
                        </div>
                        <div>
                            <h5>Element wise multiply</h5>
                            <p>In this block, the output matrix gets the value of m1 matrix multiplied with m2 matrix element wise.</p>
                        </div>
                        <div>
                            <h5>Element wise divide</h5>
                            <p>In this block, the output matrix gets the value of m1 matrix divided with m2 matrix element wise.</p>
                        </div>
                        <h4>Input/Output</h4>
                        <div>
                            <h5>Test input block</h5>
                            <p>Test inputs provided are evaluated for the whole logic and answers are evaluated.</p>
                        </div>
                        <div>
                            <h5>Print Block</h5>
                            <p>Using print block, the output is printed in the output block space. Value is entered for whose the output is to be shown and a message can be entered to get displayed.</p>
                        </div>
                        <div>
                            <h5>Debug output block</h5>
                            <p>This block can be used for debugging.</p>
                        </div>
                        <h1>PreBuiit</h1>
                        <div>
                            <h5>PreBuiit</h5>
                            <p>Used to get the prebuilt logic of the given experiment.</p>
                        </div>
                        <h1>Buttons</h1>
                        <div>
                            <h5>Up Button</h5>
                            <p>Used to move a block upwards.</p>
                        </div>
                        <div>
                            <h5>Down Button</h5>
                            <p>Used to move a block downwards.</p>
                        </div>
                        <div>
                            <h5>Edit Button</h5>
                            <p>Used to edit a block.</p>
                        </div>
                        <div>
                            <h5>Delete Button</h5>
                            <p>Used to delete a block.</p>
                        </div>
                        <div>
                            <h5>Delete all</h5>
                            <p>Used to delete all blocks.</p>
                        </div>
                        <div>
                            <h5>Drag Button</h5>
                            <p>Used to drag a block</p>
                        </div>
                        <div>
                            <h5>Step in Button</h5>
                            <p>Used when a block is to be indented inside another block.</p>
                        </div>
                        <div>
                            <h5>Step out Button</h5>
                            <p>Used when an indented block is to come out of the indentation.</p>
                        </div>
                        <div>
                            <h5>Run Button</h5>
                            <p>Used to run the logic.</p>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" data-bs-target="#modal2" data-bs-toggle="modal" data-bs-dismiss="modal">Next</button>
                        <button class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="modal2" aria-hidden="true" aria-labelledby="modal2Label" tabindex="-1">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modal2Label">Simulation</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <h2>Procedure:</h2>
                        <h5>The user has to provide the input values to run the simulator. The following steps help the user to explore the platform.</h5>
                        <ul>
                            <li>Step 1: Navigate to the “Help” button and click on it.
                            </li>
                            <li>Step 2: Navigate to “Theory” in the drop-down, and read the text for conceptual understanding.</li>
                            <li>Step 3: Navigate back to the interface.</li>
                            <li>Step 4: Enter the values for the input parameters on the display window.
                            </li>
                            <li>Step 5: Click on the “Run” button.</li>
                            <li>Step 6: On ruunig it, “Results” section can be observed below the inputs.</li>
                            <li>Step 7: Verify the results provided by the simulator against manual calculations.
                            </li>

                            </li>
                        </ul>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" data-bs-target="#modal1" data-bs-toggle="modal" data-bs-dismiss="modal">Previous</button>
                        <button class="btn btn-primary" data-bs-target="#modal3" data-bs-toggle="modal" data-bs-dismiss="modal">Next</button>
                        <button class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="modal3" aria-hidden="true" aria-labelledby="modal3Label" tabindex="-1">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modal3Label">Theory</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>A Simple Case To develop a good, qualitative understanding of the need for reactive-power control, let us consider a simple case of a lossless short-transmission line con-necting a source Vs to a load Zb:k.</p>
                        <p>Between the sending- and the receiving-end voltages, a magnitude variation, as well as a phase difference, is created.</p>
                        <p>The most significant part of the voltage drop in the line reactance (AV1 .j/xXi) is due to the reactive component of the load current, I. To keep the voltages in the network at nearly the rated value, two control actions seem possible
                            i.e. load compensation and base compensation.</p>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" data-bs-target="#modal2" data-bs-toggle="modal" data-bs-dismiss="modal">Previous</button>
                        <button class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="container-fluid h-100">
        <div class="row">


            <div id="interface" class="col-9 col-md-9 " ondragenter="dragEnter_handler(event)" ondragover="dragOver_handler(event)" ondrop="drop_handler(event)" ondragleave="dragLeave_handler(event)">
                <h2 class="text-center">Simulator</h2>

                <div id="INPUT" class="d-flex justify-content-around mt-5">
                    <div id="left">
                        <div class="pl-3 pt-2 noselect selectable bordered-box" id="cst0" draggable="false">
                            Nominal Voltage (kV)
                            <!-- <span class="showvarname">@Vnom</span> -->
                            <div class="details pb-2" style="display: block;">
                                <!-- <label class="visually-hidden" for="VAR">Enter the variable name</label>
                                <input type="text" name="Variable" id="cst0$VAR" placeholder="Variable Name">
                                <br> -->
                                <label class="visually-hidden" for="vnom">Enter the value</label>
                                <input value="735 " type="text" name="" id="vnom" placeholder="Value">
                                <br>
                                <!-- <button id="cst0$OK" class="btn btn-custom-outline-brown" onclick="ok(event)"> Ok </button> -->
                            </div>
                        </div>

                        <div class="pl-3 pt-2 noselect selectable bordered-box" id="cst1">
                            Frequency (Hz)
                            <!-- <span class="showvarname">@freq</span> -->
                            <div class="details pb-2" style="display: block;">
                                <!-- <label class="visually-hidden" for="VAR">Enter the variable name</label>
                                <input value="" type="text" name="Variable" id="cst1$VAR" placeholder="Variable Name">
                                <br> -->
                                <label class="visually-hidden" for="freq">Enter the value</label>
                                <input value="60" type="text" name="" id="freq" placeholder="Value">
                                <br>
                                <!-- <button id="cst1$OK" class="btn btn-custom-outline-brown" onclick="ok(event)"> Ok </button> -->
                            </div>
                        </div>

                        <div class="pl-3 pt-2 noselect selectable bordered-box" id="cst2" draggable="false">
                            Transmission line length (Km)
                            <!-- <span class="showvarname">@km</span> -->
                            <div class="details pb-2" style="display: block;">
                                <!-- <label class="visually-hidden" for="VAR">Enter the variable name</label>
                                <input value="" type="text" name="Variable" id="cst2$VAR" placeholder="Variable Name">
                                <br> -->
                                <label class="visually-hidden" for="km">Enter the value</label>
                                <input value="800" type="text" name="" id="km" placeholder="Value">
                                <br>
                                <!-- <button id="cst2$OK" class="btn btn-custom-outline-brown" onclick="ok(event)"> Ok </button> -->
                            </div>
                        </div>
                    </div>

                    <div id="right">
                        <div class="pl-3 pt-2 noselect selectable bordered-box" id="cst3" draggable="false">
                            Inductance (mH)
                            <!-- <span class="showvarname">@l</span> -->
                            <div class="details pb-2" style="display: block;">
                                <!-- <label class="visually-hidden" for="VAR">Enter the variable name</label>
                                <input value="" type="text" name="Variable" id="cst3$VAR" placeholder="Variable Name">
                                <br> -->
                                <label class="visually-hidden" for="l">Enter the value</label>
                                <input value="0.9323" type="text" name="" id="l" placeholder="Value">
                                <br>
                                <!-- <button id="cst3$OK" class="btn btn-custom-outline-brown" onclick="ok(event)"> Ok </button> -->
                            </div>
                        </div>

                        <div class="pl-3 pt-2 noselect selectable bordered-box" id="cst4">
                            Capacitance (nF)
                            <!-- <span class="showvarname">@c</span> -->
                            <div class="details pb-2" style="display: block;">
                                <!-- <label class="visually-hidden" for="VAR">Enter the variable name</label>
                                <input value="" type="text" name="Variable" id="cst4$VAR" placeholder="Variable Name">
                                <br> -->
                                <label class="visually-hidden" for="c">Enter the value</label>
                                <input value="12.2 " type="text" name="" id="c" placeholder="Value">
                                <br>
                                <!-- <button id="cst4$OK" class="btn btn-custom-outline-brown" onclick="ok(event)"> Ok </button> -->
                            </div>
                        </div>

                        <div class="pl-3 pt-2 noselect selectable bordered-box" title="Voltage angle of sending end bus" id="cst5">
                            Delta (deg)
                            <!-- <span class="showvarname">@delta</span> -->
                            <div class="details pb-2" style="display: block;">
                                <!-- <label class="visually-hidden" for="VAR">Enter the variable name</label>
                                <input value="" type="text" name="Variable" id="cst5$VAR" placeholder="Variable Name">
                                <br> -->
                                <label class="visually-hidden" for="delta">Enter the value</label>
                                <input value="0" type="text" name="" id="delta" placeholder="Value">
                                <br>
                                <!-- <button id="cst5$OK" class="btn btn-custom-outline-brown" onclick="ok(event)"> Ok </button> -->
                            </div>
                        </div>
                    </div>
                </div>

                <div id="OUTPUT" class="m-5 p-2">

                </div>
            </div>


            <div id="properties" class="col-3" id="right-buttons">
                <div class="pt-4">

                    <button type="button" id="prebuilt" class="btn btn-custom-outline-brown w-100 d-block" title="  " data-bs-toggle="tooltip" data-bs-placement="top" onclick=""><a href="./tyr.html"
                            style="text-decoration: none;color:black;display: block;">Go to
                            programming-interface</a></button>
                    <div style="width: 100%; text-align:center;"><button id="run" type="button" class="btn btn-success w-50" title="RUN" data-bs-toggle="tooltip" data-bs-placement="top" onclick="Simulate()" style="display: inline-block;">Run</button>
                    </div>
                </div>
                <!-- <div id="OUTPUT-CONSOLE"></div> -->
            </div>
        </div>
    </div>
    <div class="modal fade" id="quizModal" tabindex="-1" aria-labelledby="quizModal" style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <h5 id="quiz-title" class="modal-title"></h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p id="quiz-body"></p>
              <div id="quiz-select">

              </div>
              <div id="quiz-result">

              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button id="quiz-previous" type="button" class="btn btn-primary" onclick="previousInteraction();">Previous</button>
              <button id="quiz-next" type="button" class="btn btn-primary" onclick="nextInteraction();">Next</button>
              <button id="quiz-submit" type="button" class="btn btn-success" onclick="checkAns();">Check Answer</button>
            </div>
          </div>
        </div>
    </div>
    <footer class="p-3">
        Copyright © 2022 - <span id="year"></span> Department of Electrical and Electronics Engineering, SRM Institute of Science and Technology, Kattankulathur<br> PALS-VLAB initiative, in collaboration with NITK as Technology Partner
        <script>
            document.getElementById("year").innerText = new Date().getFullYear();
        </script>
    </footer>
    <!-- <script src="../programming-interface/main.js"></script> -->
    <!-- <script src="drag1.js"></script> -->
    <script src="js/simulator-exp1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.4.0/math.js" integrity="sha512-sUg3/7DzyxwAwb2W5qbB9gWu/gsrJle/GN+AF4RJlQh38CT3xhL4jsW4iiCVRIErDWm0oz6mF9LCcehU1mwxcg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.5.2/math.js" integrity="sha512-vdwP2fMacZZUetdvY+t/hsPJfEeifOcTBv0zYwUyj5qj3NbMvIFg87DxanM5dwqpu4yZkPry5VZv9TnQrll6tg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="./js/quiz.js"></script>
</body>


</html>